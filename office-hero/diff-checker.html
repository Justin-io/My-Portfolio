<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Diff Checker | Office Hero</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/5.1.0/diff.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="back-nav">
            <a href="../index.html#utilities" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Tools
            </a>
        </div>

        <header>
            <div class="icon-box" style="margin: 0 auto 1.5rem auto;">
                <i class="fas fa-columns"></i>
            </div>
            <h1 class="brand">Text Diff Checker</h1>
            <p class="tagline">Compare two text blocks and highlight the differences.</p>
        </header>

        <div class="tool-interface" style="max-width: 1200px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h3 style="margin-bottom: 10px; color: var(--text-secondary);">Original Text</h3>
                    <textarea id="text1" class="text-area-styled" placeholder="Paste original text..."
                        style="height: 300px; font-family: 'JetBrains Mono', monospace;"></textarea>
                </div>
                <div>
                    <h3 style="margin-bottom: 10px; color: var(--text-secondary);">New Text</h3>
                    <textarea id="text2" class="text-area-styled" placeholder="Paste new text..."
                        style="height: 300px; font-family: 'JetBrains Mono', monospace;"></textarea>
                </div>
            </div>

            <div style="margin-top: 2rem; text-align: center;">
                <button id="diff-btn" class="btn-action">Compare Differences</button>
            </div>

            <div class="result-area" id="result-area" style="margin-top: 3rem; text-align: left;">
                <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Comparison Result:</h3>
                <pre id="diff-output"
                    style="background: rgba(0,0,0,0.5); padding: 1.5rem; border-radius: 12px; min-height: 200px; font-family: 'JetBrains Mono', monospace; border: 1px solid var(--glass-border); white-space: pre-wrap; line-height: 1.6;"></pre>
            </div>
        </div>
    </div>

    <script>
        const text1 = document.getElementById('text1');
        const text2 = document.getElementById('text2');
        const diffBtn = document.getElementById('diff-btn');
        const output = document.getElementById('diff-output');
        const resultArea = document.getElementById('result-area');

        diffBtn.addEventListener('click', () => {
            const one = text1.value;
            const two = text2.value;

            resultArea.style.display = 'block';
            resultArea.classList.add('active');
            output.innerHTML = '';

            // Using jsdiff
            const diff = Diff.diffLines(one, two);
            const fragment = document.createDocumentFragment();

            diff.forEach((part) => {
                // green for additions, red for deletions
                // grey for common parts
                const color = part.added ? '#4ade80' :
                    part.removed ? '#ef4444' : 'var(--text-secondary)';

                const bg = part.added ? 'rgba(74, 222, 128, 0.1)' :
                    part.removed ? 'rgba(239, 68, 68, 0.1)' : 'transparent';

                const span = document.createElement('span');
                span.style.color = color;
                span.style.background = bg;
                span.appendChild(document.createTextNode(part.value));
                fragment.appendChild(span);
            });

            output.appendChild(fragment);
        });
    </script>
</body>

</html>